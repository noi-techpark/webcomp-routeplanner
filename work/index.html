<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <title>Routeplanner</title>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-12 p-3 border my-3">
          <label class="d-block"><input class="mr-2" type="checkbox" oninput="disableCarOnValue(event)" />Disable car</label>
          <label class="d-block"><input class="mr-2" type="checkbox" oninput="disableLocation(event)" />Remove fixed destination</label>
          <label class="d-block"><input class="mr-2" type="checkbox" oninput="changeLanguageDE(event)" />DE</label>
        </div>
        <div class="col-12" id="target">
          <!-- <routeplanner-widget
            destination-name="Terme di Merano, Merano"
            destination="11.1604034:46.6684672"
            attribution="&copy; <a href='https://openstreetmap.org/copyright'>OpenStreetMap contributors</a>"
            tiles-url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
            id="widget"
          ></routeplanner-widget> -->
          <routeplanner-widget
            height="725px"
            destination-name="Terme Merano"
            destination="11.160532:46.669281"
            attribution="&copy; <a href='https://openstreetmap.org/copyright'>OpenStreetMap contributors</a>"
            language="it"
            tiles-url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
            id="widget"
          ></routeplanner-widget>
        </div>
      </div>
    </div>

    <script src="/scripts/route_widget.js"></script>
    <script>
      function disableCarOnValue(e) {
        const widget = document.getElementById('widget');
        if (e.target.checked) {
          widget.setAttribute('disable-car', undefined);
        } else {
          widget.removeAttribute('disable-car');
        }

        const copy = widget.outerHTML;
        document.getElementById('target').innerHTML = copy;
      }

      function disableLocation(e) {
        const widget = document.getElementById('widget');
        if (e.target.checked) {
          widget.removeAttribute('destination-name');
          widget.removeAttribute('destination');
        } else {
          widget.setAttribute('destination-name', 'Terme di Merano, Merano');
          widget.setAttribute('destination', '11.1604034:46.6684672');
        }

        const copy = widget.outerHTML;
        document.getElementById('target').innerHTML = copy;
      }

      function changeLanguageDE(e) {
        const widget = document.getElementById('widget');
        if (e.target.checked) {
          widget.setAttribute('language', 'de');
        } else {
          widget.setAttribute('language', 'it');
        }

        const copy = widget.outerHTML;
        document.getElementById('target').innerHTML = copy;
      }
    </script>
  </body>
</html>
